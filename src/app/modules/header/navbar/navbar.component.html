<div id="gaia-header-navbar" [ngStyle]="primaryStyle">
    <div id="gaia-header-navbar-content" [class.full]="fullWidth == true && fixedWidth == true">
        <!-- Gaia Logo -->
        <a href="//{{domain}}" class="gaia-logo" (mouseenter)="logoOnMouseEnter()" (mouseleave)="logoOnMouseLeave()" [ngStyle]="logoHover == true && secondaryStyle" [class.responsive]="windowWidth < mobileBreakPoint">
            <svg xmlns="http://www.w3.org/2000/svg" 
                width="80" 
                height="46"
                viewBox="-2 -8 75 75"
                preserveAspectRatio="xMinYMin meet">
                    <path fill="#ffffff" d="M72.002 42.284s-9.366 1.17-9.366-5.948V25.725l.002-.02c-.006-.092-.014-.184-.014-.276v-.028c-.003-2.196-.687-9.358-9.37-9.359-5.167.001-9.369 4.204-9.369 9.371s4.203 9.371 9.371 9.371c4.942 0 7.634-3.657 8.093-4.011v5.552c0 3.565-3.86 5.829-8.687 5.829-9.396 0-16.445-7.348-16.445-16.741h-.001c0-9.394 7.644-17.037 17.037-17.037h.002c10.176 0 17.024 6.838 17.036 17.021v.033l-.001.02-.003.003c.008.09.016.18.016.273v12.721c0 .022-.004.045-.004.067v.18c.002 2.449 1.703 3.59 1.703 3.59zm43.382-3.592v-.18l.003-.067v-12.72c0-.093-.008-.183-.014-.273l.002-.003V25.396c-.012-10.183-6.858-17.021-17.036-17.021h-.002c-9.395 0-17.038 7.643-17.038 17.037h.002c0 9.393 7.05 16.741 16.444 16.741 4.826 0 8.687-2.264 8.687-5.829v-5.552c-.459.354-3.15 4.011-8.093 4.011-5.168 0-9.37-4.204-9.37-9.371s4.202-9.37 9.369-9.371c8.683.001 9.366 7.163 9.369 9.359v.028c0 .092.007.184.014.276v10.631c0 7.118 9.364 5.948 9.364 5.948s-1.701-1.14-1.701-3.591zm-39.52 3.72a4.114 4.114 0 0 0 4.113-4.113l-.001-23.573h.001a4.115 4.115 0 0 0-8.227 0v23.573a4.114 4.114 0 0 0 4.114 4.113zm.054-33.421a4.17 4.17 0 1 0-.001-8.34 4.17 4.17 0 0 0 .001 8.34zm4.467 41.072c0 2.813-1.991 5.039-4.719 5.039-2.742 0-4.733-2.227-4.733-5.039 0-2.797 1.991-5.024 4.733-5.024 2.728 0 4.719 2.228 4.719 5.024zm-1.852 0c0-1.795-1.28-3.285-2.867-3.285-1.602 0-2.882 1.49-2.882 3.285 0 1.81 1.28 3.3 2.882 3.3 1.587 0 2.867-1.49 2.867-3.3zm6.668-5.024c-.988 0-1.88.348-2.52.987-.627.627-.975 1.518-.975 2.507v6.402h1.837v-6.444c0-1.03.627-1.656 1.657-1.656 1.043 0 1.67.626 1.67 1.656v6.444h1.838v-6.402c0-.989-.348-1.88-.975-2.507-.639-.639-1.53-.987-2.532-.987zm6.989 6.82v-6.584h-1.838v6.611c0 1.852 1.058 3.049 3.034 3.049h2.924v-1.81h-2.909c-.877.001-1.211-.375-1.211-1.266zm5.289 3.077h1.838v-9.66h-1.838v9.66zm7.113-9.897c-.987 0-1.878.348-2.519.987-.627.627-.975 1.518-.975 2.507v6.402h1.837v-6.444c0-1.03.627-1.656 1.656-1.656 1.045 0 1.672.626 1.672 1.656v6.444h1.837v-6.402c0-.989-.348-1.88-.975-2.507-.64-.639-1.53-.987-2.533-.987zm5.221 3.313v3.508c0 1.852 1.059 3.076 3.049 3.076h3.41v-1.81h-3.396c-.877 0-1.225-.348-1.225-1.239v-.933h3.911v-1.711h-3.911v-.933c0-.891.348-1.225 1.225-1.225h3.396v-1.81h-3.41c-1.991 0-3.049 1.225-3.049 3.077zM35.004 25.529V25.476C34.993 15.25 28.116 8.381 17.895 8.381 8.459 8.381.783 16.057.783 25.492c0 9.434 7.018 16.814 16.054 16.814 5.41 0 9.187-2.716 9.187-5.498V31.04c-.461.355-3.165 3.863-8.129 3.863-5.19 0-9.411-4.223-9.411-9.412s4.221-9.411 9.411-9.411c8.721 0 9.408 7.194 9.41 9.399v.028c0 .094.007.185.014.277v.02l.006 10.828c0 4.526-1.663 10.847-13.314 10.847a3.851 3.851 0 0 0 0 7.701c19.032 0 21.008-13.11 21.008-16.6V25.805c0-.093-.008-.184-.015-.276zm84.644 20.332h1.045v2.859h.73v-2.859h1.04v-.616h-2.815v.616zm5.545-.616l-.628 2.732-.633-2.732h-1.057v3.476h.677V46.37l-.002-.284a18.481 18.481 0 0 1-.003-.281l.654 2.916h.706l.658-2.916-.002.281a18.55 18.55 0 0 0-.003.284v2.351h.677v-3.476h-1.044z"/>
            </svg>
        </a>
        <div class="toggles" [class.hidden]="windowWidth >= mobileBreakPoint" [class.mobile]="fixedWidth == false && isMobile == true">
            <div class="toggle gaia" (click)="toggleExploreState()" [ngStyle]="exploreState == 'open' && secondaryStyle">
                <svg data-name="Explore" xmlns="http://www.w3.org/2000/svg" 
                    width="46"    
                    height="46"
                    viewBox="-10 -10 60 60"
                    preserveAspectRatio="xMinYMin meet">
                        <path d="M39.86 14.43c-.94-2.88-6.53-4-12-4.34C25.8 5 23 0 20 0s-5.79 5-7.84 10.09c-5.49.37-11.09 1.46-12 4.34s3 7.05 7.18 10.58c-1.34 5.33-2 11 .41 12.77s7.62-.65 12.27-3.56c4.66 2.92 9.84 5.34 12.29 3.55S34 30.33 32.69 25c4.22-3.52 8.1-7.7 7.17-10.57z" fill="#fff"/>
                </svg>
            </div>
            <div class="toggle menu" (click)="toggleBurgerState()" [ngStyle]="burgerState == 'open' && secondaryStyle">
                <div class="burger-toggle-container">
                    <mat-icon [@menuState]="burgerMenuIconState" class="menu-toggle-icon burger">menu</mat-icon>
                    <mat-icon [@menuState]="burgerXIconState" class="menu-toggle-icon burger">close</mat-icon>
                </div>
            </div>
            <!--
            <div class="toggle hot">
                <icon-carousel
                    [setIconList]="iconList"
                    [clickable]="true"
                    [width]="'46px'"
                    [height]="'46px'"
                    [marginTop]="'5px'"
                    [interval]="5000"
                ></icon-carousel>
            </div>
        -->
        </div>
        <ul class="full-tabs-container"  [class.hidden]="windowWidth < mobileBreakPoint" [class.mobile]="fixedWidth == false && isMobile == true">
            <li class="navbar-item" (mouseenter)="openMenuState(menuNames.myGaia)" (mouseleave)="closeMenuState(menuNames.myGaia)" [ngStyle]="menuStates[menuNames.myGaia] == 'open' && secondaryStyle">
                <a href="{{apiUrl}}/mygaia" (touchstart)="onTouchNavItem($event, menuNames.myGaia)" (click)="onClickNavItem($event, menuNames.myGaia)">
                    <div class="full-link">my gaia</div>
                </a>
                <gaia-full-menu
                    [(setState)]="menuStates[menuNames.myGaia]"
                    [(setFullMenuData)]="menuMyGaia"
                ></gaia-full-menu>
            </li>
            <li class="navbar-item" (mouseenter)="openMenuState(menuNames.gcash)" (mouseleave)="closeMenuState(menuNames.gcash)" [ngStyle]="menuStates[menuNames.gcash] == 'open' && secondaryStyle">
                <a href="{{apiUrl}}/payments" (touchstart)="onTouchNavItem($event, menuNames.gcash)" (click)="onClickNavItem($event, menuNames.gcash)">
                    <div class="full-link">gcash</div>
                </a>
                <gaia-full-menu
                    [(setState)]="menuStates[menuNames.gcash]"
                    [(setFullMenuData)]="menuGcash"
                ></gaia-full-menu>
            </li>
            <li class="navbar-item" (mouseenter)="openMenuState(menuNames.shops)" (mouseleave)="closeMenuState(menuNames.shops)" [ngStyle]="menuStates[menuNames.shops] == 'open' && secondaryStyle">
                <a href="{{apiUrl}}/market" (touchstart)="onTouchNavItem($event, menuNames.shops)" (click)="onClickNavItem($event, menuNames.shops)">
                    <div class="full-link">shops</div>
                </a>
                <gaia-full-menu
                    [(setState)]="menuStates[menuNames.shops]"
                    [(setFullMenuData)]="menuShops"
                ></gaia-full-menu>
            </li>
            <li class="navbar-item" (mouseenter)="openMenuState(menuNames.forums)" (mouseleave)="closeMenuState(menuNames.forums)" [ngStyle]="menuStates[menuNames.forums] == 'open' && secondaryStyle">
                <a href="{{apiUrl}}/forum" (touchstart)="onTouchNavItem($event, menuNames.forums)" (click)="onClickNavItem($event, menuNames.forums)">
                    <div class="full-link">forums</div>
                </a>
                <gaia-full-menu
                    [(setState)]="menuStates[menuNames.forums]"
                    [(setFullMenuData)]="menuForums"
                ></gaia-full-menu>
            </li>
            <li class="navbar-item" (mouseenter)="openMenuState(menuNames.world)" (mouseleave)="closeMenuState(menuNames.world)" [ngStyle]="menuStates[menuNames.world] == 'open' && secondaryStyle">
                <a href="{{apiUrl}}/world" (touchstart)="onTouchNavItem($event, menuNames.world)" (click)="onClickNavItem($event, menuNames.world)">
                    <div class="full-link">world</div>
                </a>
                <gaia-full-menu
                    [(setState)]="menuStates[menuNames.world]"
                    [(setFullMenuData)]="menuWorld"
                ></gaia-full-menu>
            </li>
            <li class="navbar-item" (mouseenter)="openMenuState(menuNames.games)" (mouseleave)="closeMenuState(menuNames.games)" [ngStyle]="menuStates[menuNames.games] == 'open' && secondaryStyle">
                <a href="{{apiUrl}}/games" (touchstart)="onTouchNavItem($event, menuNames.games)" (click)="onClickNavItem($event, menuNames.games)">
                    <div class="full-link">games</div>
                </a>
                <gaia-full-menu
                    [(setState)]="menuStates[menuNames.games]"
                    [(setFullMenuData)]="menuGames"
                ></gaia-full-menu>
            </li>
            <li class="navbar-item" (mouseenter)="openMenuState(menuNames.channel)" (mouseleave)="closeMenuState(menuNames.channel)" [ngStyle]="menuStates[menuNames.channel] == 'open' && secondaryStyle">
                <a href="{{apiUrl}}/luckycatch" (touchstart)="onTouchNavItem($event, menuNames.channel)" (click)="onClickNavItem($event, menuNames.channel)">
                    <div class="full-link">catch</div>
                </a>
                <gaia-full-menu
                    [(setState)]="menuStates[menuNames.channel]"
                    [(setFullMenuData)]="menuChannel"
                ></gaia-full-menu>
            </li>
            <li class="navbar-item moderate" (mouseenter)="openMenuState(menuNames.moderate)" (mouseleave)="closeMenuState(menuNames.moderate)" *ngIf="userData?.user_level >= 50" [ngStyle]="menuStates[menuNames.moderate] == 'open' && secondaryStyle">
                <a href="{{apiUrl}}/moddog" (touchstart)="onTouchNavItem($event, menuNames.moderate)" (click)="onClickNavItem($event, menuNames.moderate)">
                    <div class="full-link">moderate</div>
                </a>
                <gaia-full-menu
                    [(setState)]="menuStates[menuNames.moderate]"
                    [(setFullMenuData)]="menuModerate"
                ></gaia-full-menu>
            </li>
            <li class="navbar-item search" [class.gsearchHidden]="windowWidth < 830" (mouseleave)="closeSelectBox()">
                <div class="full-link search">
                    <div id="gsearch-searchbar" class="yui-ac inactive">
                        <mat-icon class="gsearch-select-icon" [ngStyle]="secondaryStyle"  (click)="toggleSelectBox()" [class.gsearchHidden]="inputState == 'closed'">arrow_drop_down</mat-icon>
                        <form id="gsearch-form" #gsearchForm action="{{apiUrl}}{{searchAction}}{{trackParam}}{{trackingCode}}{{isItemSearch()}}" method="post" ngNoForm>
                            <input id="gsearch-input" #gsearchInput [@searchBarState]="inputState" type="text" tabindex="1" name="query" autocomplete="off" placeholder="Search" [(ngModel)]="searchString" (focus)="setGSearchPopup(true)" />
                        </form>
                        <mat-icon class="gsearch-icon" [ngStyle]="secondaryStyle" (click)="toggleInputBox()"  [class.gsearchOpen]="inputState == 'open'">search</mat-icon>
                    </div>
                    <!--
                    <select class="gsearch-select" #gsearchSelect (change)="selectGSearch($event)" [class.gsearchHidden]="selectState == false">
                        <option *ngFor="let item of searchItems" [value]="item.value">{{item.viewValue}}</option>
                    </select>
                    -->
                </div>
                <div class="gsearch-select-popup" [class.gsearchOpen]="selectState == 'selectOpen'">
                    <ul class="gsearch-select-list" [@searchBarState]="selectState" [ngStyle]="selectState == 'selectOpen' && secondaryBorder">
                        <li class="gsearch-select-item" *ngFor="let item of searchItems; let idx = index" (click)="selectGSearch(item)" [ngStyle]="isHoveredGSearchSelect[idx] == true && selectHighlight" (mouseenter)="setSelectBoxStyle(idx, true)" (mouseleave)="setSelectBoxStyle(idx, false)">
                            {{item.viewValue}}
                        </li>
                    </ul>
                </div>
                <gsearch-popup
                    [setSearchString]="searchString"
                    [setStatus]="gsearchStatus"
                ></gsearch-popup>
            </li>
        </ul>
    </div>
</div>
<gaia-burger-menu
    [(burgerState)]="burgerState"
></gaia-burger-menu>
<gaia-explore-menu
    [(exploreState)]="exploreState"
></gaia-explore-menu>

<div id="gaia-header-overlay" *ngIf="menuStatus == true" (click)="closeEverything()"></div>
